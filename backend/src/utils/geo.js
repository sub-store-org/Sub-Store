// get proxy flag according to its name
export function getFlag(name) {
    // flags from @KOP-XIAO: https://github.com/KOP-XIAO/QuantumultX/blob/master/Scripts/resource-parser.js
    // flags from @surgioproject: https://github.com/surgioproject/surgio/blob/master/lib/misc/flag_cn.ts

    // refer: https://zh.wikipedia.org/wiki/ISO_3166-1äºŒä½å­—æ¯ä»£ç 
    // refer: https://zh.wikipedia.org/wiki/ISO_3166-1ä¸‰ä½å­—æ¯ä»£ç 
    const Flags = {
        'ðŸ³ï¸â€ðŸŒˆ': ['æµé‡', 'æ—¶é—´', 'è¿‡æœŸ', 'Bandwidth', 'Expire'],
        'ðŸ‡¸ðŸ‡±': ['åº”æ€¥', 'æµ‹è¯•èŠ‚ç‚¹'],
        'ðŸ‡¦ðŸ‡©': ['AD', 'AND', 'Andorra', 'å®‰é“å°”'],
        'ðŸ‡¦ðŸ‡ª': ['AE', 'ARE', 'United Arab Emirates', 'é˜¿è”é…‹', 'è¿ªæ‹œ'],
        'ðŸ‡¦ðŸ‡«': ['AF', 'AFG', 'Afghanistan', 'é˜¿å¯Œæ±—'],
        'ðŸ‡¦ðŸ‡±': ['AL', 'ALB', 'Albania', 'é˜¿å°”å·´å°¼äºš', 'é˜¿çˆ¾å·´å°¼äºž'],
        'ðŸ‡¦ðŸ‡²': ['AM', 'ARM', 'Armenia', 'äºšç¾Žå°¼äºš'],
        'ðŸ‡¦ðŸ‡·': ['AR', 'ARG', 'Argentina', 'é˜¿æ ¹å»·'],
        'ðŸ‡¦ðŸ‡¹': ['AT', 'AUT', 'Austria', 'å¥¥åœ°åˆ©', 'å¥§åœ°åˆ©', 'ç»´ä¹Ÿçº³'],
        'ðŸ‡¦ðŸ‡º': ['AU', 'AUS', 'Australia', 'æ¾³å¤§åˆ©äºš',
            'æ¾³æ´²',
            'å¢¨å°”æœ¬',
            'æ‚‰å°¼',
            'åœŸæ¾³',
            'äº¬æ¾³',
            'å»£æ¾³',
            'æ»¬æ¾³',
            'æ²ªæ¾³',
            'å¹¿æ¾³',
            'Sydney'
        ],
        'ðŸ‡¦ðŸ‡¿': ['AZ', 'AZE', 'Azerbaijan', 'é˜¿å¡žæ‹œç–†'],
        'ðŸ‡§ðŸ‡¦': ['BA', 'BIH', 'Bosnia and Herzegovina', 'æ³¢é»‘å…±å’Œå›½', 'æ³¢é»‘'],
        'ðŸ‡§ðŸ‡©': ['BD', 'BGD', 'Bangladesh', 'å­ŸåŠ æ‹‰å›½', 'å­ŸåŠ æ‹‰'],
        'ðŸ‡§ðŸ‡ª': ['BE', 'BEL', 'Belgium', 'æ¯”åˆ©æ—¶', 'æ¯”åˆ©æ™‚'],
        'ðŸ‡§ðŸ‡¬': ['BG', 'BGR', 'Bulgaria', 'ä¿åŠ åˆ©äºš', 'ä¿åŠ åˆ©äºž'],
        'ðŸ‡§ðŸ‡­': ['BH', 'BHR', 'Bahrain', 'å·´æž—'],
        'ðŸ‡§ðŸ‡·': ['BR', 'BRA', 'Brazil', 'å·´è¥¿', 'åœ£ä¿ç½—'],
        'ðŸ‡§ðŸ‡¾': ['BY', 'BLR', 'Belarus', 'ç™½ä¿„ç½—æ–¯', 'ç™½ä¿„'],
        'ðŸ‡¨ðŸ‡¦': ['CA', 'CAN', 'Canada', 'åŠ æ‹¿å¤§',
            'è’™ç‰¹åˆ©å°”',
            'æ¸©å“¥åŽ',
            'æ¥“è‘‰',
            'æž«å¶',
            'æ»‘é“å¢',
            'å¤šä¼¦å¤š',
            'Waterloo',
        ],
        'ðŸ‡¨ðŸ‡­': ['CH', 'CHE', 'Switzerland', 'ç‘žå£«', 'è‹é»Žä¸–', 'Zurich'],
        'ðŸ‡¨ðŸ‡±': ['CL', 'CHL', 'Chile', 'æ™ºåˆ©'],
        'ðŸ‡¨ðŸ‡³': ['CN', 'CHN', 'China', 'ä¸­å›½',
            'ä¸­åœ‹',
            'å›žå›½',
            'å›žåœ‹',
            'æ±Ÿè‹',
            'åŒ—äº¬',
            'ä¸Šæµ·',
            'å¹¿å·ž',
            'æ·±åœ³',
            'æ­å·ž',
            'å¾å·ž',
            'é’å²›',
            'å®æ³¢',
            'é•‡æ±Ÿ',
            'back',
        ],
        'ðŸ‡¨ðŸ‡´': ['CO', 'COL', 'Colombia', 'å“¥ä¼¦æ¯”äºš'],
        'ðŸ‡¨ðŸ‡·': ['CR', 'CRI', 'Costa Rica', 'å“¥æ–¯è¾¾é»ŽåŠ '],
        'ðŸ‡¨ðŸ‡¾': ['CY', 'CYP', 'Cyprus', 'å¡žæµ¦è·¯æ–¯'],
        'ðŸ‡¨ðŸ‡¿': ['CZ', 'CZE', 'Czechia', 'æ·å…‹'],
        'ðŸ‡©ðŸ‡ª': ['DE', 'DEU', 'German', 'å¾·å›½',
            'å¾·åœ‹',
            'äº¬å¾·',
            'æ»¬å¾·',
            'å»£å¾·',
            'æ²ªå¾·',
            'å¹¿å¾·',
            'æ³•å…°å…‹ç¦',
            'Frankfurt',
        ],
        'ðŸ‡©ðŸ‡°': ['DK', 'DNK', 'ä¸¹éº¦', 'ä¸¹éº¥'],
        'ðŸ‡ªðŸ‡¨': ['EC', 'ECU', 'Ecuador', 'åŽ„ç“œå¤šå°”'],
        'ðŸ‡ªðŸ‡ª': ['EE', 'EST', 'Estonia', 'çˆ±æ²™å°¼äºš'],
        'ðŸ‡ªðŸ‡¬': ['EG', 'EGY', 'Egypt', 'åŸƒåŠ'],
        'ðŸ‡ªðŸ‡¸': ['ES', 'ESP', 'Spain', 'è¥¿ç­ç‰™'],
        'ðŸ‡ªðŸ‡º': ['EU', 'European Union', 'æ¬§ç›Ÿ', 'æ¬§ç½—å·´'],
        'ðŸ‡«ðŸ‡®': ['FI', 'FIN', 'Finland', 'èŠ¬å…°', 'èŠ¬è˜­', 'èµ«å°”è¾›åŸº'],
        'ðŸ‡«ðŸ‡·': ['FR', 'FRA', 'France', 'æ³•å›½', 'æ³•åœ‹', 'å·´é»Ž'],
        'ðŸ‡¬ðŸ‡§': ['GB', 'GBR', 'Great Britain', 'è‹±å›½',
            'UK',
            'England',
            'United Kingdom',
            'ä¼¦æ•¦',
            'è‹±',
            'London',
        ],
        'ðŸ‡¬ðŸ‡ª': ['GE', 'GEO', 'Georgia', 'æ ¼é²å‰äºš', 'æ ¼é­¯å‰äºž'],
        'ðŸ‡¬ðŸ‡·': ['GR', 'GRC', 'Greece', 'å¸Œè…Š', 'å¸Œè‡˜'],
        'ðŸ‡­ðŸ‡°': ['HK', 'HKG', 'Hongkong', 'é¦™æ¸¯',
            'Hong Kong',
            'HongKong',
            'HONG KONG',
            'æ·±æ¸¯',
            'æ²ªæ¸¯',
            'å‘¼æ¸¯',
            'HKT',
            'HKBN',
            'HGC',
            'WTT',
            'CMI',
            'ç©—æ¸¯',
            'äº¬æ¸¯',
            'æ¸¯',
        ],
        'ðŸ‡­ðŸ‡·': ['HR', 'HRV', 'Croatia', 'å…‹ç½—åœ°äºš', 'å…‹ç¾…åœ°äºž'],
        'ðŸ‡­ðŸ‡º': ['HU', 'HUN', 'Hungary', 'åŒˆç‰™åˆ©'],
        'ðŸ‡¯ðŸ‡´': ['JO', 'JOR', 'Jordan', 'çº¦æ—¦'],
        'ðŸ‡¯ðŸ‡µ': ['JP', 'JPN', 'Japan', 'æ—¥æœ¬',
            'ä¸œäº¬',
            'å¤§é˜ª',
            'åŸ¼çŽ‰',
            'æ²ªæ—¥',
            'ç©—æ—¥',
            'å·æ—¥',
            'ä¸­æ—¥',
            'æ³‰æ—¥',
            'æ­æ—¥',
            'æ·±æ—¥',
            'è¾½æ—¥',
            'å¹¿æ—¥',
            'å¤§å‚',
            'Osaka',
            'Tokyo',
        ],
        'ðŸ‡°ðŸ‡ª': ['KE', 'KEN', 'Kenya', 'è‚¯å°¼äºš'],
        'ðŸ‡°ðŸ‡¬': ['KG', 'KGZ', 'Kyrgyzstan', 'å‰å°”å‰æ–¯æ–¯å¦'],
        'ðŸ‡°ðŸ‡­': ['KH', 'KGZ', 'Cambodia', 'æŸ¬åŸ”å¯¨'],
        'ðŸ‡°ðŸ‡µ': ['KP', 'PRK', 'North Korea', 'æœé²œ'],
        'ðŸ‡°ðŸ‡·': ['KR', 'KOR', 'Korea', 'éŸ©å›½',
            'éŸ©',
            'éŸ“',
            'é¦–å°”',
            'æ˜¥å·',
            'Chuncheon',
            'Seoul',
        ],
        'ðŸ‡°ðŸ‡¿': ['KZ', 'KAZ', 'Kazakhstan', 'å“ˆè¨å…‹æ–¯å¦', 'å“ˆè¨å…‹'],
        'ðŸ‡®ðŸ‡©': ['ID', 'IDN', 'Indonesia', 'å°å°¼', 'å°åº¦å°¼è¥¿äºš', 'é›…åŠ è¾¾'],
        'ðŸ‡®ðŸ‡ª': ['IE', 'IRL', 'Ireland', 'çˆ±å°”å…°', 'æ„›çˆ¾è˜­', 'éƒ½æŸæž—'],
        'ðŸ‡®ðŸ‡±': ['IL', 'ISR', 'Israel', 'ä»¥è‰²åˆ—'],
        'ðŸ‡®ðŸ‡²': ['IM', 'Isle of Man', 'é©¬æ©å²›', 'é¦¬æ©å³¶'],
        'ðŸ‡®ðŸ‡³': ['IN', 'IND', 'India', 'å°åº¦', 'å­Ÿä¹°', 'MFumbai'],
        'ðŸ‡®ðŸ‡·': ['IR', 'IRN', 'Iran', 'ä¼Šæœ—'],
        'ðŸ‡®ðŸ‡¸': ['IS', 'ISL', 'Iceland', 'å†°å²›', 'å†°å³¶'],
        'ðŸ‡®ðŸ‡¹': ['IT', 'ITA', 'Italy', 'æ„å¤§åˆ©', 'ç¾©å¤§åˆ©', 'ç±³å…°', 'Nachash'],
        'ðŸ‡±ðŸ‡¹': ['LT', 'Lithuania', 'ç«‹é™¶å®›'],
        'ðŸ‡±ðŸ‡º': ['LU', 'Luxembourg', 'å¢æ£®å ¡'],
        'ðŸ‡±ðŸ‡»': ['LV', 'Latvia', 'æ‹‰è„±ç»´äºš', 'Latvija'],
        'ðŸ‡²ðŸ‡¦': ['MA', 'Morocco', 'æ‘©æ´›å“¥'],
        'ðŸ‡²ðŸ‡©': ['MD', 'Moldova', 'æ‘©å°”å¤šç“¦', 'æ‘©çˆ¾å¤šç“¦'],
        'ðŸ‡³ðŸ‡¬': ['NG', 'Nigeria', 'å°¼æ—¥åˆ©äºš', 'å°¼æ—¥åˆ©äºž'],
        'ðŸ‡²ðŸ‡°': ['MK', 'Macedonia', 'é©¬å…¶é¡¿', 'é¦¬å…¶é “'],
        'ðŸ‡²ðŸ‡³': ['MN', 'Mongolia', 'è’™å¤'],
        'ðŸ‡²ðŸ‡´': ['MO', 'MAC', 'Macao', 'æ¾³é—¨', 'æ¾³é–€', 'CTM'],
        'ðŸ‡²ðŸ‡¹': ['MT', 'Malta', 'é©¬è€³ä»–'],
        'ðŸ‡²ðŸ‡½': ['MX', 'MEX', 'Mexico', 'å¢¨è¥¿å“¥'],
        'ðŸ‡²ðŸ‡¾': ['MY', 'MYS', 'Malaysia', 'é©¬æ¥è¥¿äºš', 'é¦¬ä¾†è¥¿äºž', 'å‰éš†å¡', 'å¤§é¦¬'],
        'ðŸ‡³ðŸ‡±': ['NL', 'NLD', 'Netherlands', 'è·å…°', 'è·è˜­', 'å°¼å¾·è˜­', 'é˜¿å§†æ–¯ç‰¹ä¸¹'],
        'ðŸ‡³ðŸ‡´': ['NO', 'NOR', 'Norway', 'æŒªå¨'],
        'ðŸ‡³ðŸ‡µ': ['NP', 'Nepal', 'å°¼æ³Šå°”'],
        'ðŸ‡³ðŸ‡¿': ['NZ', 'NZL', 'New Zealand', 'æ–°è¥¿å…°', 'æ–°è¥¿è˜­'],
        'ðŸ‡µðŸ‡¦': ['PA', 'Panama', 'å·´æ‹¿é©¬'],
        'ðŸ‡µðŸ‡ª': ['PE', 'Peru', 'ç§˜é²', 'ç¥•é­¯'],
        'ðŸ‡µðŸ‡­': ['PH', 'Philippines', 'è²å¾‹å®¾', 'è²å¾‹è³“'],
        'ðŸ‡µðŸ‡°': ['PK', 'Pakistan', 'å·´åŸºæ–¯å¦'],
        'ðŸ‡µðŸ‡±': ['PL', 'POL', 'Poland', 'æ³¢å…°', 'æ³¢è˜­'],
        'ðŸ‡µðŸ‡·': ['PR', 'Puerto Rico', 'æ³¢å¤šé»Žå„'],
        'ðŸ‡µðŸ‡¹': ['PT', 'PRT', 'Portugal', 'è‘¡è„ç‰™'],
        'ðŸ‡µðŸ‡¾': ['PY', 'Paraguay', 'å·´æ‹‰åœ­'],
        'ðŸ‡·ðŸ‡´': ['RO', 'Romania', 'ç½—é©¬å°¼äºš'],
        'ðŸ‡·ðŸ‡¸': ['RS', 'Serbia', 'å¡žå°”ç»´äºš'],
        'ðŸ‡·ðŸ‡ª': ['RE', 'RÃ©union', 'ç•™å°¼æ±ª', 'æ³•å±žç•™å°¼æ±ª'],
        'ðŸ‡·ðŸ‡º': ['RU', 'RUS', 'Russia', 'ä¿„ç½—æ–¯',
            'ä¿„å›½',
            'ä¿„ç¾…æ–¯',
            'ä¼¯åŠ›',
            'èŽ«æ–¯ç§‘',
            'åœ£å½¼å¾—å ¡',
            'è¥¿ä¼¯åˆ©äºš',
            'äº¬ä¿„',
            'æ­ä¿„',
            'å»£ä¿„',
            'æ»¬ä¿„',
            'å¹¿ä¿„',
            'æ²ªä¿„',
            'Moscow',
        ],
        'ðŸ‡¸ðŸ‡¦': ['SA', 'SAU', 'Saudi', 'æ²™ç‰¹é˜¿æ‹‰ä¼¯', 'æ²™ç‰¹'],
        'ðŸ‡¸ðŸ‡ª': ['SE', 'SWE', 'Sweden', 'ç‘žå…¸'],
        'ðŸ‡¸ðŸ‡¬': ['SG', 'SGP', 'Singapore', 'æ–°åŠ å¡',
            'ç‹®åŸŽ',
            'æ²ªæ–°',
            'äº¬æ–°',
            'ä¸­æ–°',
            'æ³‰æ–°',
            'ç©—æ–°',
            'æ·±æ–°',
            'æ­æ–°',
            'å¹¿æ–°',
            'å»£æ–°',
            'æ»¬æ–°',
        ],
        'ðŸ‡¸ðŸ‡®': ['SI', 'Slovenia', 'æ–¯æ´›æ–‡å°¼äºš'],
        'ðŸ‡¸ðŸ‡°': ['SK', 'Slovakia', 'æ–¯æ´›ä¼å…‹'],
        'ðŸ‡¹ðŸ‡­': ['TH', 'THA', 'Thailand', 'æ³°å›½', 'æ³°åœ‹', 'æ›¼è°·'],
        'ðŸ‡¹ðŸ‡³': ['TN', 'Tunisia', 'çªå°¼æ–¯'],
        'ðŸ‡¹ðŸ‡·': ['TR', 'TUR', 'Turkey', 'åœŸè€³å…¶', 'ä¼Šæ–¯å¦å¸ƒå°”'],
        'ðŸ‡¹ðŸ‡¼': ['TW', 'TWN', 'Taiwan', 'å°æ¹¾',
            'å°åŒ—',
            'å°ä¸­',
            'æ–°åŒ—',
            'å½°åŒ–',
            'CHT',
            'å°',
            'HINET',
            'Taipei',
        ],
        'ðŸ‡ºðŸ‡¦': ['UA', 'UKR', 'Ukraine', 'ä¹Œå…‹å…°', 'çƒå…‹è˜­'],
        'ðŸ‡ºðŸ‡¸': ['US', 'USA', 'United States', 'ç¾Žå›½',
            'America',
            'ç¾Ž',
            'äº¬ç¾Ž',
            'æ³¢ç‰¹å…°',
            'è¾¾æ‹‰æ–¯',
            'ä¿„å‹’å†ˆ',
            'å‡¤å‡°åŸŽ',
            'è´¹åˆ©è’™',
            'ç¡…è°·',
            'çŸ½è°·',
            'æ‹‰æ–¯ç»´åŠ æ–¯',
            'æ´›æ‰çŸ¶',
            'åœ£ä½•å¡ž',
            'åœ£å…‹æ‹‰æ‹‰',
            'è¥¿é›…å›¾',
            'èŠåŠ å“¥',
            'æ²ªç¾Ž',
            'å“¥ä¼¦å¸ƒ',
            'çº½çº¦',
            'Los Angeles',
            'San Jose',
            'Sillicon Valley',
            'Michigan',
            'LAX',
            'SFO'
        ],
        'ðŸ‡ºðŸ‡¾': ['UY', 'Uruguay', 'ä¹Œæ‹‰åœ­'],
        'ðŸ‡»ðŸ‡ª': ['VE', 'Venezuela', 'å§”å†…ç‘žæ‹‰'],
        'ðŸ‡»ðŸ‡³': ['VN', 'VNM', 'Vietnam', 'è¶Šå—', 'èƒ¡å¿—æ˜Ž'],
        'ðŸ‡¿ðŸ‡¦': ['ZA', 'ZAF', 'South Africa', 'å—éž']
    };
    // åŽŸæ——å¸œæˆ–ç©º
    let Flag = name.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/)?.[0] || 'ðŸ´â€â˜ ï¸'
    // æ——å¸œåŒ¹é…
    for (let flag of Object.keys(Flags)) {
        const keywords = Flags[flag]
        //console.log(`keywords = ${keywords}`)
        // ç²¾ç¡®åŒ¹é…(ä¸¤ä¾§å‡æœ‰åˆ†å‰²)
        if (keywords.some(keyword => RegExp(`[^a-zA-Z]${keyword}[^a-zA-Z]`, "i").test(name))) {
            //console.log(`new Flag1 = ${flag}`)
            Flag = flag;
            break; // è¿™é‡ŒåŠæ—¶è·³å‡ºï¼Œé¿å…è¢«ä¹‹åŽçš„åŒ¹é…è¦†ç›–ç»“æžœ
            // åŠç²¾ç¡®åŒ¹é…(è‡³å°‘ä¸€ä¾§æœ‰åˆ†éš”ç¬¦)
        } else if (keywords.some(keyword =>
            RegExp(`[^a-zA-Z]${keyword}`, "i").test(name) || RegExp(`${keyword}[^a-zA-Z]`, "i").test(name)
        )) {
            //console.log(`new Flag2 = ${flag}`)
            Flag = flag;
            // ä¸ç²¾ç¡®åŒ¹é…ï¼ˆåªè¦åŒ…å«å°±ç®—)
        } else if (keywords.some(keyword => RegExp(`${keyword}`, "i").test(name))) {
            //console.log(`new Flag3 = ${flag}`)
            Flag = flag;
        }
    }
    //console.log(`Final Flag = ${Flag}`)
    return Flag
}
